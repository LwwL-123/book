# 测试环境部署文档

1. git pull
2. maven install
3. jar包上传oss

```
./osstools_mac  -file /Users/oker/meili/zhiwei.li_dacs_at_okg.com/117/Downloads/okg/go-signature.zip
```

jar包给路彬部署

4. 如需更新jni

   - 压缩go-parent-sdk
   -  修改头文件路径

   ```
   cmd /jni/main.go
   
   #cgo CFLAGS: -I/usr/local/java/jdk1.8.0_371/include
   #cgo CFLAGS: -I/usr/local/java/jdk1.8.0_371/include/linux
   ```

   - 修改依赖包路径go.mod, 最下面加上一句

   ```
   replace gitlab.okg.com/wallet-sign-core/go-parent-sdk => /data/signature_grpc/signature/go-signature/go-parent-sdk/go-parent-sdk
   ```

   - 编译so

   ```
   go build -buildmode=c-shared -o  build/libSigner.so  ./cmd/jni
   ```

